<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/favicon.ico">

    <!-- Client Hints -->
    <!-- FUTURE USE <meta http-equiv="Accept-CH" content="DPR,Width,Viewport-Width" /> -->
    <!-- Disable automatic detection and formatting of possible phone numbers -->
    <meta name="format-detection" content="telephone=no" />

    <!-- Basic SEO -->
    <title>IAM Key Design system and framework</title>
    <meta name="description" content="The single source of truth which groups all the elements that will allow the iam property team to design, realize and develop great digital products." />

    <!-- APP Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Apple -->
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" /><!-- 180 x 180 -->
    <meta content="yes" name="apple-mobile-web-app-capable" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <!-- Windows -->
    <meta name="application-name" content="iamkey design system and framework" />
    <meta name="msapplication-TileColor" content="#00313c" />
    <meta name="msapplication-TileImage" content="/android-chrome-192x192.png" />

    <!-- Android -->
    <meta name="theme-color" content="#00313c" />
    <meta name="mobile-web-app-capable" content="yes" />

    <!-- Duplicate basic Meta for Open Graph -->
    <meta property="og:title" content="iamkey design system and framework" />
    <meta property="og:description" content="The single source of truth which groups all the elements that will allow the iam property team to design, realize and develop great digital products." />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="iamkey design system and framework" />
    <meta name="twitter:creator" content="iamproperty" />

    <!-- <meta property="og:image" content="" />< !-- 1200 x 630 for large image - 600 x 314 for small image -->

    <script src="https://kit.fontawesome.com/26fdbf0179.js" crossorigin="anonymous"></script>

    <link
    rel="preload"
    href="/assets/fonts/qanelas-medium-webfont.woff2"
    as="font"
    type="font/woff2"
    />
    <link
      rel="preload"
      href="/assets/fonts/qanelas-bold-webfont.woff2"
      as="font"
      type="font/woff2"
      />


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="preload" as="style" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <style>
      @layer old, component;
      @import "https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" layer(old);
    </style>
    <style>
      @font-face {
        font-family: 'Qanelas';
        src: url('/assets/fonts/qanelas-medium-webfont.woff') format('woff2'),
            url('/assets/fonts/qanelas-medium-webfont.woff') format('woff');
        font-weight: normal;
        font-style: normal;
      }

      @font-face {
        font-family: 'Qanelas';
        src: url('/assets/fonts/qanelas-bold-webfont.woff2') format('woff2'),
            url('/assets/fonts/qanelas-bold-webfont.woff') format('woff');
        font-weight: bold;
        font-style: normal;
      }
    </style>
      
    <script>
    document.addEventListener("DOMContentLoaded", function() {

      const components = ['nav','card'];
      const prefix = "iam"
      const options = {
        rootMargin: '50px',
        threshold: 0.1
      }
      const componentExt = ".component.min.js";

      // Load components - Each component will load once the first of its type has been loaded
      components.forEach((component) => {

        if(document.getElementsByTagName(`${prefix}-${component}`).length === 0)
          return;

        let callback = (entries) => {
          entries.forEach((entry) => {
            
            if(entry.intersectionRatio > 0){

              import(`/assets/js/components/${component}/${component}${componentExt}`).then(module => {
                if (!window.customElements.get(`${prefix}-${component}`))
                  window.customElements.define(`${prefix}-${component}`, module.default);
              }).catch((err) => {
                console.log(err.message);
              });  

              intObserver.unobserve(entry.target);
            }
          });
        };

        const intObserver = new IntersectionObserver(callback, options);
        intObserver.observe(document.getElementsByTagName(`${prefix}-${component}`)[0]);
      });

      

      function generateNewJokes(contentDiv) {
        const newXHRRequest = new XMLHttpRequest();
        newXHRRequest.open(
          "GET",
          `http://localhost:8000/wp-json/wp/v2/posts/1`,
          true
        );

        newXHRRequest.onload = function () {

          let output = "";

          console.log(this)

          if (this.status === 200) {
            const response = JSON.parse(this.responseText);
            

                output += `${response.content.rendered}`;
            
          }
          else {

              output += `<li>Sorry! Couldn't get jokes</li>`;
          }
          
            contentDiv.innerHTML = output;
        };

        newXHRRequest.send();
      }

      generateNewJokes(document.querySelector("#temp"));

    });
    </script>
    <link rel="preload" as="style" href="/assets/css/components/component.reset.css">
    <style>
      @import "/assets/css/components/component.reset.css" layer(component);
    </style>
</head>
<body>

  <iam-nav>

    <a href="/" class="brand brand--movebutler" slot="logo">
      <svg>
        <title>iamproperty Movebutler</title>
        <use xlink:href="/svg/logo.svg#logo-movebutler"></use>
      </svg>
    </a>

    <a href="/" class="selected">Lorem ipsum</a>
    <a href="/">Lorem ipsum</a>
    <a href="/">Lorem ipsum</a>
    <a href="/">Lorem ipsum</a>

    <button class="btn btn-primary">Lorem ipsum</button>

  </iam-nav>

  <div class="container">
    <div class="row">
      <div class="col-8">

        <a href="/"><iam-card>hello<span>James Lambert</span></iam-card></a>

      </div>
    </div>
  </div>

  <div class="container pt-5">
    

    <div id="temp" class="content" data-content-url="http://localhost:8000/wp-json/wp/v2/posts/1" data-content-schema="content">
      <a href="http://localhost:8000/hello-world/" target="_blank">View content</a>
    </div>

  </div>
    
</body>
</html>
