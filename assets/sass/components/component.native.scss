@use 'sass:math';
@use "../_func" as *;

iam-nav {
  display: block;
  padding: var(--container-padding);
  padding-top: 1.5rem;
  padding-bottom: 1.5rem;
  max-width: 80rem;
  margin-inline: auto;
  
  .brand {
    font-size: rem(48);
    height: rem(48);
    padding: 0;
    text-decoration: none;
    min-width: min(var(--svg-width), 14rem);
  }
}

@media (scripting: enabled) {

  iam-nav:not(:defined) {

    > *:not([slot="logo"]) {
      display: none;
    }
    
    &:not(:target) > *:not(.brand) {
      display: none;
    }

    @include media-breakpoint-up(md) {
      &:has([slot="secondary"]){
        padding-top: rem(64);
      }
    }
  }
}


// #region Undefined web components
:is(*):not(:defined):not(iam-nav):not(iam-pagination):not(iam-carousel) {
  display: block;
  padding: rem(24);
  margin-bottom: rem(24);
  border-radius: rem(8);
  margin-left: auto;
  margin-right: auto;
  max-width: 80rem;
}

main > :is(*):not(:defined):not(iam-carousel) {

  padding: var(--container-padding);
  padding-top: 1rem;
}

@include media-breakpoint-up(md) {
      
  main > :is(*):not(:defined):not(iam-carousel) {
    max-width: 100%!important;
    padding-inline: calc(50% - #{rem(math.div(1112,2))});
  }

  iam-header:not(:defined) {
    min-height: rem(470);
  }
}

:is(iam-notification,iam-card):not(:defined) {
  box-shadow: var(--card-box-shadow);
  border-radius: var(--card-border-radius);
  padding: var(--card-top-padding) var(--card-right-padding) var(--card-bottom-padding) var(--card-left-padding);
}

// carousel
iam-carousel {

  margin-inline: calc(var(--container-padding-x) * -1);
  margin-bottom: 5rem;
  overflow: auto;
  display: block;

  > .row {
    
    flex-wrap: nowrap!important;
    margin-inline-end: 0;
    padding-inline-start: var(--container-padding-x);
    padding-inline-end: var(--container-padding-x);

    .col:last-child{
      padding-inline-end: var(--container-padding-x);
    }
  }

  @include media-breakpoint-up(md) {

    margin-inline: calc(-0.5 * $grid-gutter-width);

    > .row {
        
      padding-inline: 0;
      margin-inline: 0;

      .col:last-child{
        padding-inline-end: calc(0.5 * $grid-gutter-width);
      }
    }
  }
}

// Search
iam-search input:not(.is-invalid):not(:invalid) {
  background: none!important;
}



// For extra file
iam-carousel:defined {
  
  overflow: visible;
}
iam-carousel > .row .col {
  scroll-snap-align: start;
  scroll-margin-left: calc(var(--container-padding-x) - calc(0.5 * $grid-gutter-width));
}


@include media-breakpoint-up(sm) {

  iam-carousel > .row[class*="row-cols-sm-"] > .col{
    scroll-snap-align: unset;
  }

  iam-carousel > .row-cols-sm-2 > .col:nth-child(odd),
  iam-carousel > .row-cols-sm-3 > .col:nth-child(3n+1),
  iam-carousel > .row-cols-sm-4 > .col:nth-child(4n+1),
  iam-carousel > .row-cols-sm-5 > .col:nth-child(5n+1),
  iam-carousel > .row-cols-sm-6 > .col:nth-child(6n+1) {
    scroll-snap-align: start;
  }
}

@include media-breakpoint-up(md) {

  iam-carousel > .row[class*="row-cols-md-"] > .col{
    scroll-snap-align: unset;
    margin-left: 0;
    scroll-margin-left: 0;
  }
  
  iam-carousel > .row-cols-md-2 > .col:nth-child(odd),
  iam-carousel > .row-cols-md-3 > .col:nth-child(3n+1),
  iam-carousel > .row-cols-md-4 > .col:nth-child(4n+1),
  iam-carousel > .row-cols-md-5 > .col:nth-child(5n+1),
  iam-carousel > .row-cols-md-6 > .col:nth-child(6n+1) {
    scroll-snap-align: start;

  }
}