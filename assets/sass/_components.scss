@use 'sass:math';
@use "_func" as *;

@use 'components/nav.preload';
@use 'components/card.preload';
@use 'components/carousel.preload';
@use 'components/multiselect.preload';
@use 'components/inline-edit.preload';

// #region Undefined web components
main > :is(*):not(:defined):not(iam-carousel) {

  padding: var(--container-padding);
  padding-top: 1rem;
}

@include media-breakpoint-up(md) {
      
  main > :is(*):not(:defined):not(iam-carousel) {
    max-width: 100%!important;
    padding-inline: calc(50% - #{rem(math.div(1112,2))});
  }

  iam-header:not(:defined) {
    min-height: rem(470);
  }
}

// Search
iam-search input:not(.is-invalid):not(:invalid) {
  background: none!important;
}
iam-search .optional-text {
  display: none!important;
}

// tabs

@media screen and (prefers-color-scheme: dark) {
  .tabs {
    --tabs-gradient: linear-gradient(90deg, rgba(38,38,38,0), rgba(38,38,38,1));
  }
}

// Table dark mode support
iam-table {

  tbody tr {
    
    @include dark-mode(){
      
      --hover-background: var(--colour-canvas);

      &:is(:hover,:focus-within,.hover) {
        background: var(--row-bg);
      }
    }
  }
}

@container (width > 23.4375em) {

  iam-table.table--cta:not(.table--loading):not(:has(tr:first-child td:first-child:last-child)) {

    tr > *:not(:first-child):last-child {

      @media screen and (prefers-color-scheme: dark) {
        
        background: linear-gradient(90deg, transparent 0%, var(--row-bg) 1.25rem);
      }
    }
  }
}

iam-table {

  tr:has([type="checkbox"]:checked){

    @include dark-mode(){
      --row-bg: #000000;
    }
  }
}